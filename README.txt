Интерактивная книга   
# colobok, название формата "colob"   
# Причины создания недостатки формата MarkDown:   
- отсутствие возможности просто и автоматизированно сформировать оглавление   
- отсутствие возможности вставок в текст исполняемого кода   
- отсутствие возможности указать кодировку и шрифты   
- отсутствие возможности разделения на разделы   
- отсутствие возможности использования в тексте переменных и массивов   
# Пожелания: включить в формат "colobok" некоторые возможности формата MarkDown, привычные пользователям этого формата   

# Сюжет книги для демонстрации возможностей   
## в лесу 1 лиса, 1 волк, 1 медведь, 3 перепутья, 1 деревня    
## на каждой локации выбор из 3 направлений (почти налево, почти направо и почти прямо)   
## от каждого из зверей есть дорога к дому в деревню (через кур 3р (потому что их много), барашка 5р, пчел 0р), тропинка на другое перепутье и тропинка к другому зверю   
## только с одного из перепутьев есть тропинка домой в деревню      
## Катится колобок по дорожке, оказывается на перепутье и встречает там:   
## Случайные встречи на тропинке: зайчики (2р), птички и мышки (1р) и заметный издалека (аж с соседней локации) указательный камень (5р) (колобок все равно неграмотный и читать не умеет, но жрет все подряд)   
## Дальше катится колобок и попадает:   
## к лисе (4р), к волку (6р), к медведю (р9), к деду с бабкой (р7+р8), на новое перепутье   
## действие колобка: подкрасться, выслушать, прокатиться мимо, попытаться слопать первого встречного   
## если слопать, то увеличивается размер колобка (+р), в зависимости от размера животного   
## если укатиться, то колобок худеет на 1 размер   
## если размер встреченного животного больше, чем у колобка, то при попытке слопать конец колобку   
## если заслушаться животного такого же размера, то животное съест колобка   
## изначальный размер колобка 4   
## т.к. тропинка петляет и способ перемещения колобка связан с головокружениями, то он не знает и не запоминает откуда прикатился и в какую сторону катиться дальше      
## неудачная попытка подкрасться и попутка слопать кого-либо меньше себя пугает остальных животных этого вида   
## удачная попытка подкрасться в глазах напуганного животного временно увеличивает размер колобка на 1     
## некоторые непуганные ранее персонажи после общения могут накормить колобка (+1 или 2 к размеру), вместо того, что бы попытаться его съесть   
## непуганные животные могут начать общение с ним, попытаться съесть или убежать   
## если проглотивший камень колобок худеет до размера камня, он остается на перепутье навсегда      
## два камня проглотить нельзя    
## колобок и другие существа не могут слопать того, кто на 3 размера меньше него (ни догнать, ни поймать...)    
## Сможет ли колобок в таких условиях выбраться из леса?   

## Интерфейс книги:   
   Название;   
   Оглавление НЕпрочитанных разделов (главы для чтения, сюжет);   
   Разделы книги:   
      Заголовки разделов;   
      Текст разделов;   
      Блок отображения иллюстраций (картинок и видео) (вставка в нужных местах текста при редактировании);   
      Блок для вывода интерактивного текста (вставка в нужных местах текста при редактировании) и "диалоговые вставки" для взаимодействия с читателем;   
      Блок для вывода результатов исполнения кода;   
      "Кнопки" перехода к следующему разделу читаемого текста;   
   Оглавление прочитанных разделов (последовательные главы для чтения);   
   Сохранение (и возможность загрузки) текущей версии состояния читаемой книги;   


/* Черновик: Структура интерактивной книги (+инструкции)   
## Основной формат   
Основной формат - это обычный текст со вставками:   
- Служебная информация   
   --- ID кодировки (например, strab)     
   --- ID обычного шрифта     
   --- ID специального шрифта     
   --- Тэги, метки
- Статус (состояние) прочтения   
   --- переменные, массивы, структуры              
- Название книги      
- Авторы книги      
- Описание книги      
- Оглавление   
      #Оглавление прочитанных разделов   
      ##Сборное оглавление по разным файлам      
      > Собирает и показывает список названий разделов, их описания и гиперссылки, выводит с учетом уровня оглавления:   
      > [@ID_оглавления](название файла0){опциональный код обработки, возвращает отображаемый текст}   
      > №[@ID_оглавления](название файла1){опциональный код обработки, возвращает отображаемый текст}   
      > №№[@ID_оглавления](название файла2)   
      > ##*[@ID_оглавления](название файла3)   
      > №@(название файла4)   
      > ##-@(название файла5)   
      > ##+@(название файла6)   
      > [№СписокШиндлера]@(название файла7)   
      > +@(название файла8){опциональный код обработки}   //оглавление с номерами страниц, заданных в виде ссылок   
      > №№+@(название файла9){опциональный код обработки}   //оглавление с номерами разделов и номерами страниц, заданных в виде ссылок   
      >   
      Показывает примерно следующее:   
      > Оглавление файла0   
      > 1. Оглавление файла1   
      > 1.1. Оглавление файла2   
      >    * Оглавление файла3   
      > 2. Оглавление файла4   
      >    - Оглавление файла5   
      >    + Оглавление файла6   
      > 1. Оглавление файла7   
      > Оглавление файла8: с указанием страниц   
      > 2.1. Оглавление файла9: с указанием страниц   
      >   
      
      ##Оглавление в текущем файле   
      ###Выборочное оглавление   
      > [@ID_оглавления](){опциональный код обработки}   
      > [@ID_оглавления]{опциональный код обработки}   
      >   
      ###Полное оглавление   
      > @{опциональный код обработки}   //ненумерованное оглавление   
      > №@{опциональный код обработки}   //нумерованное по разделам оглавление   
      > +@{опциональный код обработки}   //оглавление с номерами страниц, заданных в виде ссылок   

      #Оглавление НЕпрочитанных разделов   
      Оглавление собирается в список ID номеров по тегу "~[" ID номеров разделов   
      > [@@ID_оглавления](название файла1){опциональный код обработки}   
      > [@@ID_оглавления](название файла2)   
      > [@@ID_оглавления](название файла3)   
      >   
      ##[Оглавление](В текущем файле)   
      > [@@ID_оглавления]{опциональный код обработки}   
      > [@@ID_оглавления](){опциональный код обработки}   
      >   
- Именованные и неименованные разделы, границы раздела показывать через фигурные скобки, граница блока без фигурных скобок = от начала блока до начала следующего блока:   
      // Описание раздела   
      ~[+](Название неименованного раздела){содержимое раздела}   
      ~[ID_раздела](Название именованного раздела){содержимое раздела}   
      или   
      ~[опционально ID_оглавления][ID_раздела](Название раздела){содержимое раздела}   
      уровень вложенности раздела определяется числом символов ~~~~~~   
- обычный текст   
- списки (нумерованные и маркированные)   
--- нумерованные: уровень (по количеству символов "№")  в нем [ИмяСписка]:   
      пример:   
      > [№СписокШиндлера] строка списка 1 уровня   
      > [№СписокШиндлера] строка списка 1 уровня   
      > [№№СписокШиндлера] строка списка 2 уровня   
      > [№№СписокШиндлера] строка списка 2 уровня   
      > [№СписокШиндлера] строка списка 1 уровня   
      >   
      Отображается как   
      > 1. строка списка 1 уровня   
      > 2. строка списка 1 уровня   
      > 2.1. строка списка 2 уровня   
      > 2.2. строка списка 2 уровня   
      > 3. строка списка 1 уровня   
      >   
--- маркированные:   
      уровень_списка маркер:   
      уровень_списка[Опциональное ID_Списка]маркер:   
      пример:   
      > [#ЧерныйСписок]* строка списка 1 уровня   
      > [#ЧерныйСписок]+ строка списка 1 уровня   
      > [##ЧерныйСписок]- строка списка 2 уровня   
      > [##ЧерныйСписок]- строка списка 2 уровня   
      > [#ЧерныйСписок]* строка списка 1 уровня   
      >
      Отображается как   
      > * строка списка 1 уровня   
      > + строка списка 1 уровня   
      >   - строка списка 2 уровня   
      >   - строка списка 2 уровня   
      > * строка списка 1 уровня   
      >   
      пример:   
      > # немаркированный список (заголовок) 1го уровня   
      > ## немаркированный список (заголовок) 2го уровня   
      > ### немаркированный список (заголовок) 3го уровня   
      > #### немаркированный список (заголовок) 4го уровня   
      > ##### немаркированный список (заголовок) 5го уровня   
      > ###### немаркированный список (заголовок) 6го уровня   
      > #* строка списка 1 уровня   
      > #+ строка списка 1 уровня   
      > ##- строка списка 2 уровня   
      > ##- строка списка 2 уровня   
      > #* строка списка 1 уровня   
      >   
      Отображается как   
      > Заголовок 1 уровня   
      >   Заголовок 2 уровня   
      >      Заголовок 3 уровня   
      >         Заголовок 4 уровня   
      >            Заголовок 5 уровня   
      >               Заголовок 6 уровня   
      > * строка списка 1 уровня   
      > + строка списка 1 уровня   
      >   - строка списка 2 уровня   
      >   - строка списка 2 уровня   
      > * строка списка 1 уровня   
      >   

- Ссылки и сноски
         # НЕСохраняемые в памяти ссылки, сноски или разделы:   
         > -[ID ссылки](описание ссылки){гиперссылка}   
         > -[Название ссылки]{гиперссылка}   
         >   
         Отображается как:   
         > Название ссылки   
         > описание ссылки A     
         >   
         # Сохраняемые в памяти ссылки, сноски или разделы:   
         +[ID_Имя_ссылки](описание ссылки) // объявить ссылку   
         +[ID_Имя_ссылки](описание ссылки A){гиперссылка}   
         > +[ссылка1](Текст описания ссылки 1)  // объявить ссылку   
         > ++[ID_Имя_ссылки] // отобразить ссылку   
         > +++[ID_Имя_ссылки] // отобразить описание ссылки   
         > ++++[ID_Имя_ссылки] // отобразить ID ссылки   
         > +++++[ID_Имя_ссылки] // отобразить ID и описание   
         >   
         Отображается как:   
         > [+ ссылка1] Текст описания ссылки 1   
         > [+]   
         > Текст описания ссылки 1   
         > [+ ссылка1]    
         > [+ ссылка1] Текст описания ссылки 1   
         >   
         - сделать ненумерованную сноску:   
         +[#ID_Имя_ссылки](Текст описания ссылки) // объявить ссылки   
         > +[#название](Текст описания ненумерованной сноски)  // объявить сноску   
         > ++[ID_Имя_сноски]  // отобразить номер сноски   
         > +++[ID_Имя_сноски]  // отобразить описание сноски   
         > ++++[ID_Имя_сноски]  // отобразить ID сноски   
         > +++++[ID_Имя_сноски]  // отобразить все данные сноски   
         >   
         Отображается как:   
         > [+] Текст описания ненумерованной сноски  // объявить сноску   
         > [+]   
         > Текст описания ненумерованной сноски   
         > [+ название]   
         > [+ название] Текст описания ненумерованной сноски   
         >   
         - сделать описание нумерованной сноски:   
         +[№ID_Имя_сноски](Текст описания ссылки) // объявить сноску   
         > +[№Название](Текст описания нумерованной сноски)  // объявить сноску   
         > ++[Название]  // отобразить номер сноски   
         > +++[Название]  // отобразить описание сноски   
         > ++++[Название]  // отобразить ID сноски   
         > +++++[Название]  // отобразить все данные сноски   
         Отображается как:   
         > [1] Текст описания нумерованной сноски   
         > [1]   
         > Текст описания ненумерованной сноски   
         > [1 название]   
         > [1 название] Текст описания нумерованной сноски   
         >   

- отображение объектов
         --- картинки:   
         > [!ID_Имя](гиперссылка){текст для отображения}   
         > ![ID_Имя](гиперссылка){текст для отображения}   
         >   
         --- отображение видео:   
         > [!!ID_Имя](гиперссылка){текст для отображения}    
         > !![ID_Имя](гиперссылка){текст для отображения}    
         >   
         --- отображение указанного формата кода (например, latex):   
         > [!!!ID_Имя](latex){код LATEX}   
         > !!![ID_Имя](latex){код LATEX}   
         >   
         --- отображаемые целые переменные:   
         > [=ID_Имя](числа)   
         > [=ID_Имя](входные данные){значения}   
         >   
         --- отображаемые переменные с десятичной точкой:   
         > [==ID_Имя](числа)   
         > [==ID_Имя](входные данные){значения}   
         >   
         --- отображаемые переменные, массивы данных, структуры   
         > [===ID_Имя](входные данные){формат хранения и отображения, значения}   
         >   
         --- кнопка или ссылка для перехода на другой раздел:   
         > [?ID_Раздела](гиперссылка входные_параметры_для_перехода){текст для отображения}   
         >   
         --- интерактивные диалоги:   
         > [??ID_Имя](входные данные){диалоги}   
         >   
         - раздел для отображения результата исполнения кода (Python, Go, Lua, Latex и др.)   
         > [???ID_Имя](исполняемый_файл_скрипта входные_данные1 входные_данные2 ...){описание и формат ввода-вывода, код}   
         >   
- маркеры для скрытых разделов книги (для тех блоков, которые имеет смысл показывать разработчикам текста, но не читателям):   
         // строка комментариев   
         /* скрытые для отображения читателю разделы */   
         Применение:   
         ------ скрытые переменные, массивы данных, структуры   
         ------ скрытые комментарии   
         ------ комментарии   
         ------ оболочка среды исполнения кода (Python, Go, Lua и др.)   
         ------ код для исполнения (Python, Go, Lua и др.) и дополнительный код (классы, функции, интерфейсы)   



#Задать формат написания, отображения и сохранения букв в редакторе (в случае использования формата strab каждая буква сохраняется в файл индивидуально, при редактировании в формате интерактивной книги восстанавливается)   
## Высота   
>     варианты обозначения в текстовом файле:   
>     подстрочное="_<текст<_", заглавное "_^текст^_", надстрочное "_>текст>_"   
>     или подстрочное="*<текст<*", заглавное "*^текст^*", надстрочное "*>текст>*"   
>     
## курсив "_текст_" или "*текст*"   
## жирный "__текст__" или "**текст**"   
## с подчеркиванием "___текст___" или "***текст***" или "_:текст:_"   
## обозначение специального стиля|шрифта: "_|текст|_" или "*|текст|*"   
## для обозначения цвета текста (подсветка):   
>     Цветной текст RGB: "===текст===", "==текст==", "=текст=")   
## сокращенный формат   
>     Сокращенный формат для обозначения жирного курсива: "_*текст*_" или "_*текст*_"    
>     Сокращенный формат для обозначения подчеркнутого курсива: "_:текст:_"     
>     Сокращенный формат для обозначения подчеркнутого жирного: "*:текст:*"     
>     Сокращенный формат для обозначения подчеркнутого жирного курсива: "_*:текст:*_"   

## Формат для обозначения зачеркивания в тексте: "_-текст-_" или "*-текст-*"   
> 
**НЕ рекомендуется** в обозначениях режима отображения текстового символа хранить информацию о вычеркивании _-символа-_.   
**Причина ограничения**: отсечение информации об оформлении поменяет __-вычеркнутый-__ текст на обычный, что значительно искажает смысл исходной текстовой информации.   
**Рекомендуется**: Информацию о зачеркивании текстового символа хранить непосредственно в самом значении текстового символа, т.е. в неотсекаемой части текстовой последовательности.   




// пример применения   
## Интерфейс книги:      
   Тема;   
   Оглавление НЕпрочитанных разделов (главы для чтения, сюжет);   
   Разделы книги:   
      Заголовки разделов;   
      Текст разделов;   
      Окна отображения иллюстраций (картинок и видео) (вставка в нужных местах текста при редактировании);   
      Диалоговые окна терминала для вывода интерактивного текста (вставка в нужных местах текста при редактировании) и "одноразовые кнопки" для взаимодействия с читателем по ходу диалога;   
      "Кнопки" перехода к следующему разделу читаемого текста (один раздел, одно вариативное исполнение кода в конце прочитанного раздела, возможный выбор направления перехода);   
   Оглавление прочитанных разделов (последовательные главы для чтения);   
   Сохранение (и возможность загрузки) текущей версии состояния читаемой книги;   
Возможность влияния читателя:   
   на сюжет (через влияние на решения ИИ одного из персонажей книги);   
   на навигацию по сюжету (через выбранные читателем переходы к следующим читаемым разделам);   
Программные сущности книги:   
   Структура классов, функций, интерфейсов и данных;   
   Сущности книги (объекты, данные, и ИИ);   
   Последовательность развития сюжета и отображение событий в книге (переходы между разделами);     
   Последовательность чтения книги (Навигация по разделам для прочтения, в зависимости от принятых в диалогах читателем решений, решений ИИ, полученного результата и развития сюжета).   
   Автоматическая генерация некоторых разделов, в зависимости от принятых в диалогах читателем решений, решений ИИ, полученного результата и развития сюжета.   

Полезные ресурсы:
https://ru.wikipedia.org/wiki/Markdown
https://docs.microsoft.com/ru-ru/contribute/markdown-reference

/// Примеры использования Markdown-разметки (скопировано из публичных ресурсов)   
# Заголовок 1
## Заголовок 2
### Заголовок 3
*курсив*
**жирный**
***жирный курсив***
[отображаемое название ссылки](https://ru.wikipedia.org/)
![отображаемое название картинки](ссылка на картинку "описание при наведении")

**Сослаться по номеру [один][1], сослаться по номеру [два][2].**
[1]: https://google.ru "Гугл" 
[2]: https://yandex.ru "Яндекс"
ссылка на сноску[^1]
[^1]: Заметка в конце блока или статьи. В данном случае - в конце блока.
